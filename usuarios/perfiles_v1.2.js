function mostrar_formulario(_1){if(_1==1){$(".formulario").slideDown(600).css("display","block");}else{if(_1==0){$(".formulario").slideUp(600).css("display","none");}}};function cargar_perfiles(){var _2="opcion=2";llamarAjax("perfiles_ajax.php",_2,"principal_perfiles","mostrar_formulario(1)");};function cargar_formulario_crear(){var _3="opcion=1";llamarAjax("perfiles_ajax.php",_3,"principal_perfiles","mostrar_formulario(1)");};function cargar_formulario_editar(_4){var _5="opcion=1&id_perfil="+_4;llamarAjax("perfiles_ajax.php",_5,"principal_perfiles","mostrar_formulario(1)");};function mostrar_formulario_flotante(_6){if(_6==1){$("#fondo_negro").css("display","block");$("#d_centro").slideDown(400).css("display","block");}else{if(_6==0){$("#fondo_negro").css("display","none");$("#d_centro").slideDown(400).css("display","none");}}};function reducir_formulario_flotante(_7,_8){$(".div_centro").width(_7);$(".div_centro").css("top","20%");$(".div_interno").width(_7);};function validar_exito(){var _9=$("#hdd_exito").val();if(_9>0){$("#contenedor_exito").css("display","block");$("#contenedor_exito").html("Datos guardados correctamente");setTimeout("$('#contenedor_exito').slideUp(200).css('display', 'none')",5000);setTimeout(cargar_perfiles(),5000);}else{$("#contenedor_error").css("display","block");$("#contenedor_error").html("Error al guardar usuarios");setTimeout("$('#contenedor_error').slideUp(200).css('display', 'none')",5000);setTimeout(cargar_perfiles(),5000);}};function validar_crear_perfil(){$("#frm_perfiles").validate({rules:{txt_nombre_perfil:{required:true,},txt_desc_perfil:{required:true,},cmb_atiende_consulta:{required:true,},cmb_recibe_citas:{required:true,},cmb_atiende_cirugias:{required:true,}},submitHandler:function(){var _a=$("#hdd_idmenus").val();var _b=_a.split("-");var _c=false;for(var k in _b){var _d=_b[k];if(_d!=""){var _e=$("#cmb_permiso_"+_d).val();if(_e!=""){_c=true;break;}}}if(_c==false){$("#contenedor_error").css("display","block");$("#contenedor_error").html("Debe seleccionar habilitar al menos un menu");return false;}crear_perfil();},});};function crear_perfil(){var _f=$("#txt_nombre_perfil").val();var _10=$("#txt_desc_perfil").val();var _11=$("#cmb_atiende_consulta").val();var _12=$("#cmb_recibe_citas").val();var _13=$("#cmb_atiende_cirugias").val();var _14=$("#cmb_menu_inicio").val();var _15=$("#hdd_idmenus").val();var _16=_15.split("-");var _17="opcion=3&txt_nombre_perfil="+_f+"&txt_desc_perfil="+_10+"&cmb_atiende_consulta="+_11+"&cmb_recibe_citas="+_12+"&cmb_atiende_cirugias="+_13+"&cmb_menu_inicio="+_14+"&hdd_idmenus="+_15;for(var k in _16){var _18=_16[k];if(_18!=""){var _19=$("#cmb_permiso_"+_18).val();_17+="&cmb_permiso_"+_18+"="+_19;}}llamarAjax("perfiles_ajax.php",_17,"principal_perfiles","validar_exito()");};function validar_editar_perfil(){$("#frm_perfiles").validate({rules:{txt_nombre_perfil:{required:true,},txt_desc_perfil:{required:true,},cmb_atiende_consulta:{required:true,},cmb_recibe_citas:{required:true,},cmb_atiende_cirugias:{required:true,},cmb_activo:{required:true,}},submitHandler:function(){var _1a=$("#hdd_idmenus").val();var _1b=_1a.split("-");var _1c=false;for(var k in _1b){var _1d=_1b[k];if(_1d!=""){var _1e=$("#cmb_permiso_"+_1d).val();if(_1e!=""){_1c=true;break;}}}if(_1c==false){$("#contenedor_error").css("display","block");$("#contenedor_error").html("Debe seleccionar habilitar al menos un menu");return false;}mostrar_formulario_flotante(1);reducir_formulario_flotante(400,250);posicionarDivFlotante("d_centro");confirmar_guardar();},});};function editar_perfil(){var _1f=$("#hdd_id_perfil").val();var _20=$("#txt_nombre_perfil").val();var _21=$("#txt_desc_perfil").val();var _22=$("#cmb_atiende_consulta").val();var _23=$("#cmb_recibe_citas").val();var _24=$("#cmb_atiende_cirugias").val();var _25=$("#cmb_menu_inicio").val();var _26=$("#cmb_activo").val();var _27=$("#hdd_idmenus").val();var _28=_27.split("-");var _29="opcion=4&txt_nombre_perfil="+str_encode(_20)+"&txt_desc_perfil="+str_encode(_21)+"&cmb_atiende_consulta="+_22+"&cmb_recibe_citas="+_23+"&cmb_atiende_cirugias="+_24+"&cmb_menu_inicio="+_25+"&cmb_activo="+_26+"&hdd_id_perfil="+_1f+"&hdd_idmenus="+_27;for(var k in _28){var _2a=_28[k];if(_2a!=""){var _2b=$("#cmb_permiso_"+_2a).val();_29=_29+"&cmb_permiso_"+_2a+"="+_2b;}}llamarAjax("perfiles_ajax.php",_29,"principal_perfiles","cerrar_div_centro(); validar_exito();");};function confirmar_guardar(){$("#d_interno").html("<table border=\"0\" cellpadding=\"5\" cellspacing=\"0\" align=\"center\" style=\"width:100%\">"+"<tr>"+"<th align=\"center\">"+"<h4>&iquest;Est&aacute; seguro de guardar esta informaci&oacute;n?</h4>"+"</th>"+"</tr>"+"<tr>"+"<th align=\"center\">"+"<input type=\"button\" id=\"btn_cancelar_si\" nombre=\"btn_cancelar_si\" class=\"btnPrincipal\" value=\"Aceptar\" onclick=\"editar_perfil();\"/>\n"+"<input type=\"button\" id=\"btn_cancelar_no\" nombre=\"btn_cancelar_no\" class=\"btnSecundario\" value=\"Cancelar\" onclick=\"cerrar_div_centro();\"/>"+"</th>"+"</tr>"+"</table>");};function seleccionar_atiende_consulta(_2c){if(_2c=="1"){$("#cmb_recibe_citas").attr("disabled",false);}else{$("#cmb_recibe_citas").val("0");$("#cmb_recibe_citas").attr("disabled",true);}};